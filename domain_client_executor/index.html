<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Domain Executor"><meta name="keywords" content="rust, rustlang, rust-lang, domain_client_executor"><title>domain_client_executor - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-52c5db6f6f352e54.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-d2686a620d99aad7.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../domain_client_executor/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../domain_client_executor/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate domain_client_executor</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">domain_client_executor</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/domain_client_executor/lib.rs.html#17-251">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="domain-executor"><a href="#domain-executor">Domain Executor</a></h2><h3 id="domains"><a href="#domains">Domains</a></h3>
<p>Domains, the enshrined rollups solution of Subspace, is a configurable execution
framework allowing for the simple, secure and low-cost deployment of application
specific blockchain called domain.</p>
<p>There are three types of domains: system domain, core domain and open domain.</p>
<ul>
<li>System domain: responsible for securing and managing all the non-system domains
by maintaining the receipts of other domains and handling the potential execution
disputes using the fraud-proof mechanism. The system domain itself is secured by the
consensus chain.</li>
<li>Core domain: developed and audited by Subspace team, providing some important
system-wide features, e.g., the payments, contracts and messages.</li>
<li>Open domain: similar to the smart contract in Ethereum which reflects application
specific business logic and can be created by anyone with enough security deposits.</li>
</ul>
<p>All kinds of domains form the Subspace execution layer. The domains do not rely on
any typical blockchain consensus like PoW for producing blocks, the block production
of each domain is totally driven by the consensus chain which are collectively
maintained by Subspace farmers. Please refer to the white paper <a href="https://subspace.network/news/subspace-network-whitepaper">Computation section</a>
for more in-depth description and analysis.</p>
<h3 id="executors"><a href="#executors">Executors</a></h3>
<p>In Subspace, the farmers offering the storage resources are responsible for maintaining
the consensus layer, executors are a separate class of contributors in the system focusing
on the execution layer, they provide the necessary computational resources to maintain the
blockchain state by running domains. Some deposits as the stake are required to be an executor.
Every executor must run the system domain, but they can opt-in to run one or multiple
non-system domains by partially allocating their executor stake on the domain.</p>
<p>Specifically, executors have the responsibity of producing a [<code>SignedBundle</code>] which contains a
number of [<code>ExecutionReceipt</code>]s on each slot notified from the consensus chain. The executors
are primarily driven by two events from the consensus chain.</p>
<ul>
<li>
<p>On each new slot, executors will attempt to solve a domain-specific bundle election
challenge derived from a global randomness provided by the consensus chain. Upon finding
a solution to the challenge, they will start producing a bundle: they will collect a set
of extrinsics from the transaction pool which are verified to be able to cover the transaction
fee. With these colltected extrinsics, the bundle election solution and proper receipts, a
[<code>SignedBundle</code>] can be constructed and then be submitted to the consensus chain. The transactions
included in each bundle are uninterpretable blob from the consensus chain’s persepective.</p>
</li>
<li>
<p>On each imported primary block, executors will extract all the needed bundles from it
and convert the bundles to a list of extrinsics, construct a custom <a href="../domain_block_builder/struct.BlockBuilder.html"><code>BlockBuilder</code></a> to
build a domain block. The execution trace of all the extrinsics and hooks like
<code>initialize_block</code>/<code>finalize_block</code> will be recorded during the domain block execution.
Once the domain block is imported successfully, the [<code>ExecutionReceipt</code>] of this block
will be generated and stored locally.</p>
</li>
</ul>
<p>The receipt of each domain block contains all the intermediate state roots during the block
execution, which will be gossiped in the executor network. All executors whether running as an
authority or a full node will compute each block and generate an execution receipt independently,
once the execution receipt received from the network does not match the one produced locally,
a <a href="../sp_domains/struct.FraudProof.html"><code>FraudProof</code></a> will be generated and reported to the consensus chain accordingly.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CoreDomainParentChain.html" title="domain_client_executor::CoreDomainParentChain struct">CoreDomainParentChain</a></div><div class="item-right docblock-short">The parent chain of the core domain</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CoreExecutor.html" title="domain_client_executor::CoreExecutor struct">CoreExecutor</a></div><div class="item-right docblock-short">Core domain executor.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CoreGossipMessageValidator.html" title="domain_client_executor::CoreGossipMessageValidator struct">CoreGossipMessageValidator</a></div><div class="item-right docblock-short">Gossip message validator for core domain.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EssentialExecutorParams.html" title="domain_client_executor::EssentialExecutorParams struct">EssentialExecutorParams</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExecutorStreams.html" title="domain_client_executor::ExecutorStreams struct">ExecutorStreams</a></div><div class="item-right docblock-short">Notification streams from the primary chain driving the executor.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SystemDomainParentChain.html" title="domain_client_executor::SystemDomainParentChain struct">SystemDomainParentChain</a></div><div class="item-right docblock-short">The parent chain of the system domain</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SystemExecutor.html" title="domain_client_executor::SystemExecutor struct">SystemExecutor</a></div><div class="item-right docblock-short">System domain executor.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SystemGossipMessageValidator.html" title="domain_client_executor::SystemGossipMessageValidator struct">SystemGossipMessageValidator</a></div><div class="item-right docblock-short">Gossip message validator for system domain.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="domain_client_executor" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (afaf3e07a 2023-01-14)" data-search-js="search-181581080540673f.js" data-settings-js="settings-a2afdefbb7c817f1.js" data-settings-css="settings-84508a86fe805444.css" ></div></body></html>